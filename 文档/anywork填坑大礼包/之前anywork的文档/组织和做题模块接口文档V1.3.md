# 组织和做题模块接口文档V1.3

[TOC]



# 版本号及更新记录

> 记录每次的更新 以便查询

## V1.1

- 做题模块中获取习题直接根据组织号获取
- 提交试题时备注了对填空题提交的方式 


## V1.2

- 提交试题时对填空题分隔符的更改为"#"
- 查找组织中备注了查找全部组织的方式
- 组织名的参数统一为organizationName


## V1.3

- 获取详细的试题接口更改了参数提交

# 组织模块

## 查找组织

- 请求URL：http://ip:80/organization/search
- 请求方式：POST
- 参数提交方式：application/json
- 备注：如果组织关键名为""则是查找全部组织
- 请求参数：

```json
{
  "organizationName": "组织名关键字"
}
```

- 返回参数：	

```json
{
  "state": "状态码",
  "stateInfo": "具体状态信息",
  "data": [							//组织的数组
    {
      "organizationId": "组织id",
      "teacherName": "教师名字",
      "organizationName": "组织名",
      "description": "描述",
      "isJoin": "判断字段，0表示用户不属于该组，1表示用户属于改组"
    },
    {
      "organizationId": "组织id",
      "teacherName": "教师名字",
      "organizationName": "组织名",
      "description": "描述",
      "isJoin": "判断字段，0表示用户不属于该组，1表示用户属于改组"
    },
    {
      "organizationId": "组织id",
       "teacherName": "教师名字",
      "organizationName": "组织名",
      "description": "描述",
      "isJoin": "判断字段，0表示用户不属于该组，1表示用户属于改组"
    }
  ]
}
```



## 组织头像

http://ip:80/picture/organization/组织id.jpg

## 加入组织

- 请求URL：http://ip:80/organization/join

- 请求方式：POST

- 参数提交方式：application/json

- 请求参数：


```json
{
  "organizationId": "组织id",
  "token": "口令"
}
```

- 返回参数：

```json
{
 	"state": "状态码",
  	"stateInfo": "具体状态信息"
}
```
## 查看我的组织

- 请求URL：http://ip:80/organization/me

- 请求方式：POST

- 请求参数：无

- 返回参数：


```json
{
  "state": "状态码",
  "stateInfo": "具体状态信息",
  "data": [						//组织的数组
    {
      "organizationId": "组织id",
      "teacherName": "教师名字",
      "organizationName": "组织名",
      "description": "描述",
      "isJoin": "1"
    },
    {
      "organizationId": "组织id",
      "teacherName": "教师名字",
      "organizationName": "组织名",
      "description": "描述",
      "isJoin": "1"
    },
    {
      "organizationId": "组织id",
       "teacherName": "教师名字",
      "organizationName": "组织名",
      "description": "描述",
      "isJoin": "1"
    }
  ]
}
```
# 做题模块

## 获取试题概要列表（考试）

- 请求URL：http://ip:80/test/testList

- 请求方式：POST

- 参数提交方式：application/json

- 请求参数：


```json
{
  "organizationId": "组织id"
}
```

- 返回参数：

```json
{
    "state": "状态码",
  "stateInfo": "具体状态信息",
  "data": [						//试卷概要的数组
     {
      "testpaperId": "试卷id",
      "testpaperTitle": "试卷标题",
      "createTime": "开始时间",
      "endingTime": "结束时间",
      "testpaperScore": "考试总分"
    },
    {
      "testpaperId": "试卷id",
      "testpaperTitle": "试卷标题",
      "createTime": "开始时间",
      "endingTime": "结束时间",
      "testpaperScore": "考试总分"
    },
   {
      "testpaperId": "试卷id",
      "testpaperTitle": "试卷标题",
      "createTime": "开始时间",
      "endingTime": "结束时间",
      "testpaperScore": "考试总分"
    }
   ]
}
```

## 获取试题概要列表（练习）

- 请求URL：http://ip:80/test/practiceList

- 请求方式：POST

- 参数提交方式：application/json

- 请求参数：


```json
{
  "organizationId": "组织id"
}
```

- 返回参数：

```json
{
    "state": "状态码",
  "stateInfo": "具体状态信息",
  "data": [						//试卷概要的数组
     {
      "testpaperId": "试卷id",
      "testpaperTitle": "试卷标题",
       "chapterId":"章节id",
       "chapterName":"章节名称",
      "createTime": "开始时间",
      "endingTime": "结束时间",
      "testpaperScore": "考试总分"
    },
    {
      "testpaperId": "试卷id",
      "testpaperTitle": "试卷标题",
       "chapterId":"章节id",
       "chapterName":"章节名称",
      "createTime": "开始时间",
      "endingTime": "结束时间",
      "testpaperScore": "考试总分"
    },
   {
      "testpaperId": "试卷id",
      "testpaperTitle": "试卷标题",
      "chapterId":"章节id",
       "chapterName":"章节名称",
      "createTime": "开始时间",
      "endingTime": "结束时间",
      "testpaperScore": "考试总分"
    }
   ]
}
```
## 获取详细的试题

- 请求URL：http://ip:80/test

- 请求方式：POST

- 参数提交方式：application/json

- 请求参数：

  ```json
  {
    "testpaperId": "试卷Id"
  }
  ```

- 返回参数：


```json
{
  "state": "状态码",
  "stateInfo": "具体状态信息",
  "data": [						//试题数组
    {
      "questionId": "问题id",
      "type": "题目类型" ,  //1-选择题 2-判断题 3-填空题 4-问答题 5-编程题 6-综合题
      "A": "如果为选择题 则A的内容",
      "B": "如果为选择题 则B的内容",
      "C": "如果为选择题 则C的内容",
      "D": "如果为选择题 则D的内容",
      "content": "题目内容",
      "socre": "该题分数",
      "other": "如果为填空题，则为填空题的空数"
    },
    {
      "questionId": "问题id",
      "type": "题目类型" ,  //1-选择题 2-判断题 3-填空题 4-问答题 5-编程题 6-综合题
      "A": "如果为选择题 则A的内容",
      "B": "如果为选择题 则B的内容",
      "C": "如果为选择题 则C的内容",
      "D": "如果为选择题 则D的内容",
      "content": "题目内容",
      "socre": "该题分数",
      "other": "如果为填空题，则为填空题的空数"
    }
  ]
}
```

​

## 提交答卷获取结果

- 请求URL：http://ip:80/test/submit

- 请求方式：POST

- 参数提交方式：application/json
- 备注：填空题以#为分隔符将空与空拼起来
- 请求参数：


```json
{
  "studentId": "答题者id",
  "testpaperId": "试卷id",
  "studentAnswer": [			//学生答题的数组
    {
      "questionId": "试题id",
      "studentAnswer": "学生写的答案"
    },
    {
      "questionId": "试题id",
      "studentAnswer": "学生写的答案"
    },
   {
      "questionId": "试题id",
      "studentAnswer": "学生写的答案"
    }
  ]
}
```

- 返回参数：

```json
{
  "state": "状态码",
  "stateInfo": "具体状态信息",
  "data": {
      "studentId": "学生id",
      "testpaperId": "试卷id",
      "socre": "总分数，为double类型",
      "studentAnswerAnalysis":[				//数组，每道题的情况
        {
          "question":{
              "questionId": "问题id",
              "type": "题目类型" ,  //1-选择题 2-判断题 3-填空题 4-问答题 5-编程题 6-综合题
              "A": "如果为选择题 则A的内容",
              "B": "如果为选择题 则B的内容",
              "C": "如果为选择题 则C的内容",
              "D": "如果为选择题 则D的内容",
              "content": "题目内容",
              "socre": "该题分数",
              "other": "如果为填空题，则为填空题的空数"
          },
          "studentAnswer":"学生的答案",
          "isTrue": "是否正确 1正确 0错误",
          "socre": "该题得分"
        },
        {
          "question":{
              "questionId": "问题id",
              "type": "题目类型" ,  //1-选择题 2-判断题 3-填空题 4-问答题 5-编程题 6-综合题
              "A": "如果为选择题 则A的内容",
              "B": "如果为选择题 则B的内容",
              "C": "如果为选择题 则C的内容",
              "D": "如果为选择题 则D的内容",
              "content": "题目内容",
              "socre": "该题分数",
              "other": "如果为填空题，则为填空题的空数"
          },
          "studentAnswer":"学生的答案",
          "isTrue": "是否正确 1正确 0错误",
          "socre": "该题得分"
        }
      ]
    }
}
```
## 具体查看学生某道题的答题情况

- 请求URL：http://ip:80/test/detail

- 请求方式：POST

- 参数提交方式：application/json

- 请求参数：


```json
{
  "questionId": "问题id"
}
```

- 返回参数：

```json
{
  "state": "状态码",
  "stateInfo": "具体状态信息",
   "data": {
     	"question":{
              "questionId": "问题id",
              "type": "题目类型" ,  //1-选择题 2-判断题 3-填空题 4-问答题 5-编程题 6-综合题
              "A": "如果为选择题 则A的内容",
              "B": "如果为选择题 则B的内容",
              "C": "如果为选择题 则C的内容",
              "D": "如果为选择题 则D的内容",
              "content": "题目内容",
              "socre": "该题分数",
              "other": "如果为填空题，则为填空题的空数"
          },
          "studentAnswer":"学生的答案",
          "isTrue": "是否正确 1正确 0错误",
          "socre": "该题得分"
   }
}
```

